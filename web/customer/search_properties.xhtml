<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <body>

        <ui:composition template="./../template.xhtml">

            <ui:define name="content">
                <f:view>
                <h:form enctype="multipart/form-data">
                    <h:panelGrid columns="3">                        
                        
                        <h:outputText value="Locations" />
                        <h:selectManyListbox id="locationtypes" value="#{searchPropertyBean.locations}"
                                         required="false" >
                            <f:selectItem id="toronto" itemValue="toronto" itemLabel="Toronto"/>
                            <f:selectItem id="ottawa" itemValue="ottawa" itemLabel="Ottawa"/>
                            <f:selectItem id="kingston" itemValue="kingston" itemLabel="Kingston"/>
                            <f:selectItem id="montreal" itemValue="montreal" itemLabel="Montreal"/>
                            <f:selectItem id="kitchener" itemValue="kitchener" itemLabel="Kitchener"/>
                            <f:selectItem id="windsor" itemValue="windsor" itemLabel="Windsor"/>
                            <f:selectItem id="london" itemValue="london" itemLabel="London"/>
                            <f:selectItem id="belleville" itemValue="belleville" itemLabel="Belleville"/>
                            <f:selectItem id="other" itemValue="other" itemLabel="Other"/>
                        </h:selectManyListbox>
                        <h:message id="locationtypesMsg" style="color: red" for="locationtypes" />
                        
                        <h:outputText value="Property Type" />
                        <h:selectOneMenu id="types" value="#{searchPropertyBean.type}"
                                         required="false" >
                            <f:selectItem id="house" itemValue="House" itemLabel="House"/>
                            <f:selectItem id="apartment" itemValue="Apartment" itemLabel="Apartment"/>
                        </h:selectOneMenu>
                        <h:message id="typesMsg" style="color: red" for="types" />                                                                             
                        
                        <h:outputText value="# of Bedrooms" />
                        <h:inputText id="bedrooms" value="#{searchPropertyBean.numberofbedrooms}"
                                     required="false" converterMessage="Value must be a number." >
                            <f:validator validatorId="gtZeroValidator" />
                        </h:inputText>
                        <h:message id="bedroomsMsg" style="color: red" for="bedrooms" />
                        
                        <h:outputText value="# of Bathrooms" />
                        <h:inputText id="bathrooms" value="#{searchPropertyBean.numberofbathrooms}"
                                     required="false" converterMessage="Value must be a number." >
                            <f:validator validatorId="gtZeroValidator" />
                        </h:inputText>
                        <h:message id="bathroomsMsg" style="color: red" for="bathrooms" />                                                                        
                        
                        <h:outputText value="# of Other Rooms" />
                        <h:inputText id="otherrooms" value="#{searchPropertyBean.numberofotherrooms}"
                                     required="false" converterMessage="Value must be a number." >
                        </h:inputText>
                        <h:message id="otherroomsMsg" style="color: red" for="otherrooms" />
                        
                        <h:outputText value="Minimum Rent" />
                        <h:inputText id="minrent" value="#{searchPropertyBean.minrent}"
                                     required="false" converterMessage="Value must be a number." >
                            <f:validator validatorId="gtZeroValidator" />
                        </h:inputText>
                        <h:message id="minrentMsg" style="color: red" for="minrent" />
                        
                        <h:outputText value="Maximum Rent" />
                        <h:inputText id="maxrent" value="#{searchPropertyBean.maxrent}"
                                     required="false" converterMessage="Value must be a number." >
                            <f:validator validatorId="gtZeroValidator" />
                        </h:inputText>
                        <h:message id="maxrentMsg" style="color: red" for="maxrent" />
                        
                    </h:panelGrid>
                    <h:commandButton value="Search Property" type="command"  actionListener="#{searchPropertyBean.searchProperty}">
                        <f:ajax execute="locationtypes types bedrooms bathrooms
                                otherrooms minrent maxrent"
                                render="locationtypesMsg typesMsg bedroomsMsg
                                bathroomsMsg otherroomsMsg minrentMsg maxrentMsg"/>
                    </h:commandButton>      
                    <div>
                        <hr/>
                        <hr/>
                    </div>
                </h:form>
            </f:view>
            </ui:define>

        </ui:composition>

    </body>
</html>
